 @PostMapping("/{chemistId}/stock/add-strips")
        public ResponseEntity<ApiResponseDto<AddStockResponse>> addTabletStock(
                        @PathVariable Long chemistId,
                        @Valid @RequestBody AddTabletStockRequest request) {
                try {
                        AddStockResponse response = stockService.addTabletStock(chemistId, request);
                        return ResponseEntity.status(HttpStatus.CREATED)
                                        .body(ApiResponseDto.success(
                                                        "Tablet/Capsule stock added successfully (converted strips to base units)",
                                                        response));
                } catch (IllegalArgumentException e) {
                        return ResponseEntity.status(HttpStatus.BAD_REQUEST)
                                        .body(new ApiResponseDto<>(false, e.getMessage(), null));
                } catch (Exception e) {
                        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)
                                        .body(new ApiResponseDto<>(false,
                                                        "Failed to add tablet stock: " + e.getMessage(),
                                                        null));
                }
        }

        public class AddStockResponse {
            private Long batchStockId;
            private Long chemistProductId;
            private Long wholesalerId;
            private String wholesalerName;
            private String productName;
            private String batchNumber;
            private Integer quantityAdded;
            private Integer totalStock;
            private BigDecimal purchasePrice;
            private String expiryDate;
            private LocalDateTime addedAt;


            public class AddTabletStockRequest {
                private Long chemistProductId;
                private Long wholesalerId;
                private String batchNumber;
                private Integer numberOfStrips;
                private BigDecimal purchasePricePerStrip;
                private BigDecimal sellingPricePerStrip;
                private BigDecimal mrpPerStrip;
                private String expiryDate; // Format: YYYY-MM-DD
                private String mfgDate; // Format: YYYY-MM-DD